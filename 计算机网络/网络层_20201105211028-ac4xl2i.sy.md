# 概述

因为网络层是整个互联网的核心，因此应当让网络层尽可能简单。网络层向上只提供简单灵活的、无连接的、尽最大努力交互的数据报服务。

使用 IP 协议，可以把异构的物理网络连接起来，使得在网络层看起来好像是一个统一的网络。
![[网络层IP.png]]
与 IP 协议配套使用的还有三个协议：

- ((20201105211028-fr0figs "计算机网络/地址解析协议 ARP（Address Resolution Protocol）"))
- ((20201105211028-kakplb6 "计算机网络/网际控制报文协议 ICMP（Internet Control Message Protocol）"))
- 网际组管理协议 IGMP（Internet Group Management Protocol）

# [[IP 数据报格式]]

**版本** ，**首部长度**， **区分服务** ， **总长度** ，**生存时间** ， **协议** ，**首部检验和**， **标识**，**片偏移**

# [[IP 地址编址方式]]

IP 地址的编址方式经历了三个历史阶段：

- 分类
- 子网划分
- 无分类

# [[虚拟专用网 VPN]]

于 IP 地址的紧缺，一个机构能申请到的 IP 地址数往往远小于本机构所拥有的主机数，因此需要VPN

# [[网络地址转换 NAT]]

专用网内部的主机使用本地 IP 地址又想和互联网上的主机通信时，可以使用 NAT 来将本地 IP 转换为全球 IP。

# ((20201105211028-2hfjp1m "计算机网络/路由器的结构"))

路由器从功能上可以划分为：路由选择和分组转发。

((20201105211028-ppbgcb2 "计算机网络/路由器分组转发流程"))

# 路由选择协议

路由选择协议都是自适应的，能随着网络通信量和拓扑结构的变化而自适应地进行调整。
互联网可以划分为许多较小的自治系统 AS(autonomous system)，一个 AS 可以使用一种和别的 AS 不同的路由选择协议。
可以把路由选择协议划分为两大类：

- 自治系统内部的路由选择：((20201105211028-8iovgeo "计算机网络/路由信息协议 RIP（Routing Information Protocol）")) 和 ((20201105211028-kkudti6 "计算机网络/开放式最短路径优先 OSPF（Open Shortest Path First）"))
- 自治系统间的路由选择：[[边界网关协议 BGP（Border Gateway Protocol）]]

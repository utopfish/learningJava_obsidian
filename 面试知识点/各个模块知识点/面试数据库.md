## 数据库原理

#### B+树的优点
[[Innodb的为什么使用B+树，而不是红黑树]]
磁盘读写代价更低
树查询效率更加稳定
####   B-Tree和B+Tree性能对比
[[B-Tree和B+Tree对比]]
 #### [[平衡二叉树（AVL Tree）]] 

#### mysql索引 ，hash索引在innodb中有用到吗？怎么用的？怎么存储的？
[[MySQL中的索引]]
#### mysql  介绍组合索引（联合索引）
[[MySQL中的索引#6 联合索引]]
#### 索引的底层结构
[[索引类型]]，[[存储引擎#InnoDB]]
#### 知道聚簇索引和非聚簇索引嘛？
[[MySQL#索引]]
#### 各个[[事务#隔离级别]]
#### 给sql语句：判断命中索引 
#### 索引结构特点
[[MySQL#1 B Tree 索引]]
[[MySQL#2 哈希索引]]
[[MySQL#3 全文索引]]
[[MySQL#4 空间数据索引]]
#### ACID 是指什么？
[[事务#ACID]]
#### （脏读、不可重复度、幻读）这三个现象解释一下？
[[事务#二、并发一致性问题]]
#### Mysql 默认的隔离级别是什么？在 Innodb 的可重复读的情况下可以解决幻读的情况吗？
[[MySQL#隔离级别]]，可以，使用MVCC+next key locks联合解决幻读

#### 可重复读如何实现，MVCC怎么实现的。
[[MVCC]]
#### innodb是如何实现的
## 数据库中的锁
乐观、悲观锁到读写锁到互斥锁共享锁到CLH锁MSC锁自旋锁偏向锁公平锁和非公平锁可重入锁，脑壳疼，这锁太多了一下子记不起来全部，数据库里面还有老多了
#### [[分段锁]]
#### [[自旋锁]]

## MySQL
#### MySQL默认隔离级别是什么，可重复读是如何避免幻读现象的？gap lock、next-key locks是属于哪种锁？ 
可重复读，使用MVCC+next key locks联合解决幻读，?[[意向锁]]

 #### update时什么锁 (next-key lock，但唯一性索引时降级为行锁，不过当时答错了）
#### MySQL的可重复读是怎么实现的
[[MVCC]]
####  MySQL如何判断死锁，回滚的时间是空闲的，能做什么优化

#### MySQL为什么用B+数，不用二叉查找树、红黑树。
[[Innodb的为什么使用B+树，而不是红黑树]]
#### mysql中数据的存储结构
[[MySQL数据类型]]

#### char和varchar有什么区别？varchar的最大长度是多少？什么时候用char？
[[char和varchar的区别]],65536字节（2^16）
b+树索引一般多少层？为什么？
[[b+树索引一般多少层]]
#### 数据库部分知识，手写一个 SQL （子查询 感觉主要看 group by 和 having）

 



## Redis
##### redis的作用 

#### redis各个数据结构，讲讲redis里面的哈希表，redis的zset底层结构，Redis的set求交集的时间复杂度，
[[Redis#常用数据结构]]
#### Redis字典结构、扩容
[[Redis#哈希实现与扩容]]
#### aof和rdb的区别？rdb bgsave的过程中，如果有新的值插入，会不会被持久化？
redis持久化方案分为[[RDB]]和[[AOF]]两种，RDB是记录某个时刻数据的状态，AOF是记录服务器保存的写命令记录状态，bgsave过程是非阻塞的，新值插入会被处理，但不会被bgsave持久化。
#### redis是怎么实现事务的，你觉得它能保证原子性和持久性吗？
[[Redis事务]] 通过 MULTI、EXEC、WATCH 等命令来实现事务机制，事务执行过程将一系列多个命令按照顺序一次性执行，并且在执行期间，事务不会被中断，也不会去执行客户端的其他请求，直到所有命令执行完毕。
#### Redis的缓存雪崩和缓存击穿；
[[缓存雪崩]]、[[缓存穿透]]
#### 因为提到了降级，说说[[降级策略]]


#### 项目是如何保证缓存和数据源的数据一致性的？

#### zset的底层数据结构，跳表是怎么实现的？ 
[[zset底层存储结构]]
[[zset底层存储结构#跳表]]

#### 压缩列表是怎么实现hash的？为什么有时候要采用压缩列表而不是哈希表？渐进式hash的流程？


#### 布隆过滤器原理，设计，如何计算大小
[[布隆过滤器]]

#### [[Mysql 的高可用方案]]？
#### [[一致性哈希算法]]
容错性，扩展性，均衡性（虚拟节点机制）
#### [[缓存过期淘汰策略]]
FIFO，LRU，LFU

## 扩展
####  如何保证分布式事务的一致性 
#### 大表Join小表优化，如何处理数据倾斜？
#### CAP，BASE
[[CAP理论]]、[[Base定理]]
CAP理论，分区容错性的意义。


#### 3层的b+树，用日期作为索引，查询需要几次i/o？

#### b树索引了解吗？


#### 如果要你设计数据库的表，你会考虑哪些？
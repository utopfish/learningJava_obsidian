自旋锁
- 线程的阻塞和唤醒需要CPU从用户态转为核心态，**频繁的阻塞和唤醒对CPU来说是一件负担很重的工作**. 所谓“自旋”，就是让线程去执行**一个无意义的循环**，循环结束后再去重新竞争锁，如果竞争不到继续循环，循环过程中线程会一直处于running状态，但是基于JVM的线程调度，会出让时间片，所以其他线程依旧有申请锁和释放锁的机会。
- 自旋锁省去了阻塞锁的时间空间（队列的维护等）开销，但是长时间自旋就变成了“忙式等待”，忙式等待显然还不如阻塞锁。所以自旋的次数一般控制在一个范围内，例如10,100等，在超出这个范围后，自旋锁会升级为阻塞锁。
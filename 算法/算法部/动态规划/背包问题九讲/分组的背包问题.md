## 6.1 问题
有 $N$ 件物品和一个容量为 $V$ 的背包。第 $i$ 件物品的费用是$C_i$，价值是 $W_i$。这些物品被划分为 $K$ 组，每组中的物品互相冲突，最多选一件。求解将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。
## 6.2 算法
这个问题变成了每组物品有若干种策略：是选择本组的某一件，还是一件都不选。也就是说设$F[k, v]$表示前 $k$ 组物品花费费用 $v$ 能取得的最大权值，则有：
$F[k, v] = max{F[k − 1, v], F[k − 1, v − C_i] + W_i| item \ i ∈ group \ k}$
使用一维数组的伪代码如下：
$for \ k = 1 \ to \ K$
$\quad for \ v = V \ to \ 0$
$\quad \quad for \ item \ i \ in \ group \ k$
$\quad \quad \quad F[v] = max{F[v], F[v − Ci] + Wi}$
这里三层循环的顺序保证了每一组内的物品最多只有一个会被添加到背包中。
另外，显然可以对每组内的物品应用[[完全背包问题#2 3 一个简单有效的优化]]中的优化。
## 6.3 小结
分组的背包问题将彼此互斥的若干物品称为一个组，这建立了一个很好的模型。不少背包问题的变形都可以转化为分组的背包问题（例如[[有依赖的背包问题]]），由分组的背包问题进一步可定义“泛化物品”的概念，十分有利于解题。
## MHA
MHA（Master High Availability）目前在MySQL高可用方面是一个相对成熟的解决方案，该软件由两部分组成：MHA Manager（管理节点）和MHA Node（数据节点）。

- MHA Manager: 可以单独部署在一台独立的机器上管理多个master-slave集群，也可以部署在一台slave节点上。
- MHA Node: 行在每台MySQL服务器上。

MHA Manager会定时探测集群中的master节点，当master出现故障时，它可以自动将最新数据的slave提升为新的master，然后将所有其他的slave重新指向新的master。整个故障转移过程对应用程序完全透明。

![[Mysql高可用方案MHA.bmp]]


## PXC
Percona XtraDB Cluster是MySQL高可用性和可扩展性的解决方案, 的特性如下：
1. 同步复制，事务要么在所有节点提交或不提交。
2. 多主复制，可以在任意节点进行写操作。
3. 在从服务器上并行应用事件，真正意义上的并行复制。
4. 节点自动配置。
5. 数据一致性，不再是异步复制。

优点如下：
1. 当执行一个查询时，在本地节点上执行。因为所有数据都在本地，无需远程访问。
2. 无需集中管理。可以在任何时间点失去任何节点，但是集群将照常工作，不受影响。
3. 良好的读负载扩展，任意节点都可以查询。

缺点如下：
1. 加入新节点，开销大。需要复制完整的数据。
2. 不能有效的解决写缩放问题，所有的写操作都将发生在所有节点上。
3. 有多少个节点就有多少重复的数据。

![[Mysql高可用方法PXC.bmp]]